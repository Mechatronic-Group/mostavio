---
import { Image } from "astro:assets";

import slide1 from "../../assets/slides/carousel-2-left.jpg";
import slide2 from "../../assets/slides/carousel-2-middle.jpg";
import slide3 from "../../assets/slides/carousel-2-third.jpg";

import AVBadge from "../../assets/v2/AV_TransparentBadge.png";

const swiperSlideClasses =
    "swiper-slide relative w-auto rounded-lg bg-gray-900/10 backdrop-blur-xl";

const imageSlides = [
    {
        src: slide1,
        caption: "Award Winning Innovation",

        description:
            "The MX1 model achieved international recognition for its outstanding design excellence,\
             earning the Gold Winner title at the MUSE Design Awards in 2025. This achievement highlights\
             MOSTAVIO's commitment to pushing the boundaries of eVTOL aircraft design.",
        alt: "Mostavio Tail Design",
    },
    {
        src: slide2,
        caption: "Bold Design & Materials",
        description:
            "The carbon fiber exterior paired with KevlarÂ®-reinforced battery covers ensures exceptional\
             durability while maintaining lightweight construction and striking visual appeal.",
        alt: "Mostavio Propeller Design",
    },
    {
        src: slide3,
        caption: "Performance & Efficiency",
        description:
            "Every MOSTAVIO model is engineered with cutting-edge materials and aerodynamic principles,\
             delivering superior performance through advanced carbon fiber construction.",
        alt: "Mostavio Design",
    },
];
---

<section class="relative mt-48 scroll-mt-24">
    <div class="swiper container">
        <div class="swiper-wrapper">
            {
                imageSlides.map((image, _) => (
                    <div class={swiperSlideClasses}>
                        <Image
                            class="h-96 w-full object-cover rounded-md"
                            src={image.src}
                            alt={image.alt}
                            loading="lazy"
                        />
                        <div class="flex items-center bg-black p-4">
                            <div class="flex-shrink-0 mr-6">
                                <Image
                                    src={AVBadge}
                                    alt="AV Badge"
                                    class="h-12 w-auto"
                                />
                            </div>
                            <div class="flex-1">
                                <div class="text-2xl md:text-4xl font-bold uppercase text-white">
                                    {image.caption}
                                </div>
                                <p class="text-gray-300 text-left mt-3">
                                    {image.description}
                                </p>
                            </div>
                        </div>
                    </div>
                ))
            }
        </div>
        <div class="swiper-pagination"></div>

        <div class="swiper-button swiper-button-prev"></div>
        <div class="swiper-button swiper-button-next"></div>

        <div class="swiper-scrollbar"></div>
    </div>
</section>

<script>
    import Swiper from "swiper";
    import { Navigation, Pagination, Mousewheel } from "swiper/modules";
    import "swiper/css/bundle";

    export const swiperConfig = {
        modules: [Navigation, Pagination, Mousewheel],
        loop: true,
        // slidesPerView: 3,
        mousewheel: {
            forceToAxis: true,
        },
        spaceBetween: 30,
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
        scrollbar: {
            el: ".swiper-scrollbar",
        },

        breakpoints: {
            // when window width is >= 640px
            640: {
                slidesPerView: 1,
            },
            768: {
                slidesPerView: 2,
            },
        },
    };

    const swiper = new Swiper(".swiper", swiperConfig);
</script>
