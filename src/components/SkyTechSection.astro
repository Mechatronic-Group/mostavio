---
import { Image } from "astro:assets";
import Button from "./atoms/Button.astro";

interface SkyTechSectionProps {
    image: any;
    alt: string;
    imageClass?: string;
    content?: {
        tagline?: string;
        header?: string;
        description?: string;
        link?: string;
    };
    contentClass?: string;
    headerClass?: string;
}

const defaultContent = {
    header: "INTRODUCING <br><span class='text-[#4167FF]'>SKYTECH</span>",
    description:
        "As an official DJI dealer and a Transport Canada-approved flight school,\
				 Skytech delivers advanced drone solutions for commercial and industrial applications.",
    link: "https://skyt.ca/",
};
const {
    image,
    alt = "MOSTAVIO Painted Image",
    imageClass = "",
    content = defaultContent,
    contentClass = "md:ml-auto md:top-1/4 md:text-left",
    headerClass,
} = Astro.props as SkyTechSectionProps;
---

<section class={`relative my-24 md:my-48 scroll-mt-24 bg-gradient-painted`}>
    <slot />

    <Image
        class={`w-full h-auto md:h-[95vh] object-cover ${imageClass}`}
        src={image}
        alt={alt}
    />

    {
        content && (
            <div
                class={`absolute inset-0 max-w-6xl px-6 md:px-12 xl:px-6 top-1/2 md:top-1/3 \
                        transform -translate-y-1/2 md:translate-y-0 text-center mx-auto z-10 \
                        flex flex-col justify-center md:justify-start \
                        ${contentClass}`}
            >
                {content?.tagline && (
                    <p class="uppercase text-sm md:text-base text-white mb-2 opacity-90">
                        {content?.tagline}
                    </p>
                )}
                {content?.header && (
                    <h2
                        style="text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);"
                        class={`my-4 md:my-8 leading-tight text-white font-bold \
                                text-2xl sm:text-3xl md:text-4xl lg:text-5xl ${headerClass}`}
                    >
                        <Fragment set:html={content?.header} />
                    </h2>
                )}
                {content?.description && (
                    <div
                        style="text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);"
                        class="text-white py-4 text-sm sm:text-base md:text-lg \
                               max-w-full md:max-w-md leading-relaxed opacity-95"
                    >
                        {content?.description}
                    </div>
                )}
                {content?.link && (
                    <div class="mt-6 w-full md:w-auto">
                        <Button
                            containerClass="w-full md:w-auto text-center md:text-left \
                                          md:ml-0 md:justify-start uppercase z-20 relative min-h-[44px]"
                            variant="transparent"
                            link={content?.link}
                        />
                    </div>
                )}
            </div>
        )
    }
</section>
