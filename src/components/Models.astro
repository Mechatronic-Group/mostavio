---
import topViewRender from "../assets/evtol_img/Seat2.jpg";
import Container from "./molecules/Container.astro";

const models = [
    {
        label: "MX1",
        tagline: "Urban Mobility, Elevated",
        panel: {
            title: "Make work flow across teams while connecting back to company goals",
            content:
                "MX1 is a next-generation 2â€“3 passenger eVTOL aircraft designed to transform city travel. Equipped with AI navigation, real-time collision avoidance, and layered safety systems.",
            features: [
                {
                    icon: "https://cdn-icons-png.flaticon.com/512/4727/4727266.png",
                    title: "Together as one",
                    desc: "Accusantium nemo perspiciatis delectus atque autem!",
                },
                {
                    icon: "https://cdn-icons-png.flaticon.com/512/584/584796.png",
                    title: "New ideas",
                    desc: "Accusalectus atque autem accusantium nemo perspiciatis delectus atque autem!",
                },
            ],
        },
        preview: topViewRender.src,
    },
    {
        label: "AeroGuardian",
        tagline: "Built for Urgency",
        panel: {
            title: "Mastering the Art of Autonomous Flight",
            content:
                "Designed for versatility in urgent care and medevac operations, AeroGuardian brings advanced mobility to where it matters most.",
            features: [
                {
                    icon: "https://cdn-icons-png.flaticon.com/512/6106/6106288.png",
                    title: "Together as one",
                    desc: "Accusantium nemo perspiciatis delectus atque autem!",
                },
                {
                    icon: "https://cdn-icons-png.flaticon.com/512/2313/2313906.png",
                    title: "New ideas",
                    desc: "Accusalectus atque autem accusantium nemo perspiciatis delectus atque autem!",
                },
            ],
        },
        preview: topViewRender.src,
    },
    {
        label: "Ultralight ",
        tagline: "Freedom Takes Flight",
        panel: {
            title: "Lightweight Design. Limitless Adventure. ",
            content:
                "The Ultralight is a one-passenger eVTOL crafted for personal recreation. It's ideal for rural flight with no license required.",
            features: [
                {
                    icon: "https://cdn-icons-png.flaticon.com/512/3340/3340200.png",
                    title: "Together as one",
                    desc: "Accusantium nemo perspiciatis delectus atque autem!",
                },
                {
                    icon: "https://cdn-icons-png.flaticon.com/512/5405/5405929.png",
                    title: "Growth",
                    desc: "Accusalectus atque autem accusantium nemo perspiciatis delectus atque autem!",
                },
            ],
        },
        preview: topViewRender.src,
    },
];
---

<section class="relative overflow-hidden scroll-mt-36">
    <h2
        class="mt-32 text-center text-3xl font-bold text-gray-800 dark:text-white md:text-4xl xl:text-5xl"
    >
        Models
    </h2>
    <Container>
        {
            models.map((model, i) => (
                <div
                    id={model.label}
                    class={`flex flex-col-reverse md:flex-row items-center gap-12 ${i % 2 === 1 ? "md:flex-row-reverse" : ""} my-32`}
                >
                    <div class="w-full md:w-1/2">
                        <div class="text-3xl font-bold text-gray-800 dark:text-white md:text-4xl xl:text-5xl">
                            {model.label}
                        </div>
                        <div class="mt-2 text-lg font-semibold text-gray-500 dark:text-primaryLight">
                            {model.tagline}
                        </div>
                        <h3 class="mt-8 text-xl font-bold text-gray-900 dark:text-gray-300 md:text-2xl">
                            {model.panel.title}
                        </h3>
                        <p class="mt-8 text-gray-600 dark:text-gray-300">
                            {model.panel.content}
                        </p>
                        <div class="mt-12 space-y-6">
                            {model.panel.features.map((feature) => (
                                <div class="flex items-center gap-6">
                                    <div class="flex h-20 w-20 rounded-3xl border border-gray-200 bg-white p-4 dark:border-gray-600/60 dark:bg-gray-900/40">
                                        <img
                                            class="m-auto h-8 w-auto"
                                            src={feature.icon}
                                            alt="icon illustration"
                                            loading="lazy"
                                            width="512"
                                            height="512"
                                        />
                                    </div>
                                    <div class="w-[calc(100%-7.5rem)]">
                                        <h4 class="text-lg font-semibold text-gray-800 dark:text-gray-300">
                                            {feature.title}
                                        </h4>
                                        <p class="mt-1 text-gray-600 dark:text-gray-400">
                                            {feature.desc}
                                        </p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    <div class="p-4 w-full sm:px-12 md:mx-0 md:w-1/2 md:px-0">
                        <div class="relative bg-gray-100 before:absolute before:inset-0 before:scale-x-110 before:border-y before:border-gray-200 after:absolute after:inset-0 after:scale-y-110 after:border-x after:border-gray-200 dark:bg-gray-800 dark:before:border-gray-700 dark:after:border-gray-700">
                            <div class="relative h-96 overflow-clip py-10 sm:h-[32rem] lg:p-20">
                                <div class="panel-preview absolute inset-0 flex items-end overflow-hidden transition-all duration-700 opacity-0 translate-y-10 will-change-transform">
                                    <img
                                        src={model.preview}
                                        class="mx-auto h-full w-full border object-cover object-top shadow-2xl dark:border-transparent"
                                        alt={model.label}
                                        loading="lazy"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            ))
        }
    </Container>
</section>
<style>
    .panel-preview {
        opacity: 0;
        transform: translateY(2.5rem);
        transition:
            opacity 1s cubic-bezier(0.4, 0, 0.2, 1),
            transform 1s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .panel-preview.visible {
        opacity: 1;
        transform: translateY(0);
    }
</style>

<script type="module">
    window.addEventListener("DOMContentLoaded", () => {
        // Reveal panel-preview on scroll
        const panels = document.querySelectorAll(".panel-preview");
        if ("IntersectionObserver" in window) {
            const observer = new IntersectionObserver(
                (entries, obs) => {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add("visible");
                            obs.unobserve(entry.target);
                        }
                    });
                },
                { threshold: 0.3 },
            );
            panels.forEach((panel) => observer.observe(panel));
        } else {
            panels.forEach((panel) => panel.classList.add("visible"));
        }
    });
</script>
